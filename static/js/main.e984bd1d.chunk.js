(this.webpackJsonpkabra_interview=this.webpackJsonpkabra_interview||[]).push([[0],{24:function(t,e,c){},72:function(t,e,c){},73:function(t,e,c){},75:function(t,e,c){"use strict";c.r(e);var a=c(0),r=c(16),n=c.n(r),s=c(11),i=(c(24),c(10)),d=c(21),o=c.n(d),l=c(34),j="FETCH_PRODUCTS_REQUEST",u="FETCH_PRODUCTS_SUCCESS",b="FETCH_PRODUCTS_FAIL",O="ADD_TO_CART",m="ADJUST_ITEM_QTY",p="REMOVE_FROM_CART",h=c(35),v=c.n(h),x=c(1),f=Object(i.b)((function(t){return{products:t.productData.products.data}}),(function(t){return{FetchProductAction:function(){return t(function(){var t=Object(l.a)(o.a.mark((function t(e){var c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e({type:j}),t.next=4,v.a.get("https://api4286.s3.ap-south-1.amazonaws.com/products.json");case 4:c=t.sent,e({type:u,payload:c}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),e({type:b,payload:t.t0});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}())},addToCart:function(e){return t({type:O,payload:{id:e}})}}}))((function(t){var e=t.products,c=t.FetchProductAction,r=t.addToCart;Object(a.useEffect)((function(){c()}),[c]);var n=Object(a.useState)([]),i=Object(s.a)(n,2),d=i[0],o=i[1];return Object(a.useEffect)((function(){o(e)}),[e]),Object(x.jsx)(x.Fragment,{children:null===d||void 0===d?void 0:d.map((function(t,e){return Object(x.jsx)("div",{className:"main",children:Object(x.jsxs)("div",{className:"card",style:{width:"18rem",height:"500px"},children:[Object(x.jsx)("img",{src:null===t||void 0===t?void 0:t.filename,className:"card-img-top image",alt:"..."}),Object(x.jsxs)("div",{className:"card-body",children:[Object(x.jsx)("h5",{className:"card-title",children:null===t||void 0===t?void 0:t.title}),Object(x.jsx)("h5",{className:"card-type",children:null===t||void 0===t?void 0:t.type}),Object(x.jsxs)("p",{className:"card-text",children:['"',null===t||void 0===t?void 0:t.description,'"']}),Object(x.jsxs)("h5",{className:"card-price",children:["$ ",null===t||void 0===t?void 0:t.price]}),Object(x.jsxs)("h5",{className:"card-rating",children:["Rating ",null===t||void 0===t?void 0:t.rating]}),Object(x.jsx)("button",{className:"btn btn-primary",onClick:function(){return r(t.id)},children:"Add to Cart"})]})]})},e)}))})})),y=function(){return Object(x.jsx)("div",{children:Object(x.jsx)(f,{})})},_=c(4),g=c(18),N=function(){var t=Object(_.f)();return Object(x.jsx)("div",{className:"main",children:Object(x.jsxs)("div",{className:"header",children:[Object(x.jsx)(g.b,{to:"/",className:"title",children:Object(x.jsx)("h1",{children:"Products"})}),Object(x.jsx)("button",{className:"btn btn-warning cart_btn",onClick:function(e){e.preventDefault(),t.push("/cart")},children:"CART"})]})})},C=(c(72),c(73),Object(i.b)(null,(function(t){return{adjustQty:function(e,c){return t({type:m,payload:{id:e,qty:c}})},removeFromCart:function(e){return t({type:p,payload:{id:e}})}}}))((function(t){var e=t.item,c=t.adjustQty,r=t.removeFromCart,n=Object(a.useState)(""),i=Object(s.a)(n,2),d=i[0],o=i[1];return Object(x.jsxs)("div",{className:"cartItem",children:[Object(x.jsx)("img",{className:"cartItem__image",src:e.filename,alt:e.title}),Object(x.jsxs)("div",{className:"cart_detail_body",children:[Object(x.jsxs)("div",{className:"cartItem__details",children:[Object(x.jsx)("p",{className:"details__title",children:e.title}),Object(x.jsx)("p",{className:"details__desc",children:e.description})]}),Object(x.jsxs)("div",{className:"cartItem__actions",children:[Object(x.jsxs)("p",{className:"details__price",children:["$ ",e.price]}),Object(x.jsxs)("div",{className:"cartItem__qty",children:[Object(x.jsx)("label",{htmlFor:"qty",children:"Qty"}),Object(x.jsx)("input",{min:"1",type:"number",id:"qty",name:"qty",value:d,onChange:function(t){o(t.target.value),c(e.id,t.target.value)}})]}),Object(x.jsx)("button",{onClick:function(){return r(e.id)},className:"actions__deleteItemBtn",children:Object(x.jsx)("img",{src:"https://image.flaticon.com/icons/svg/709/709519.svg",alt:""})})]})]})]})}))),T=Object(i.b)((function(t){return{cart:t.productData.cart}}))((function(t){var e=t.cart,c=Object(a.useState)(0),r=Object(s.a)(c,2),n=r[0],i=r[1],d=Object(a.useState)(0),o=Object(s.a)(d,2),l=o[0],j=o[1];return Object(a.useEffect)((function(){var t=0,c=0;null===e||void 0===e||e.forEach((function(e){t+=e.qty,c+=e.qty*e.price})),j(t),i(c)}),[e,n,l,i,j]),console.log(e,l,n),Object(x.jsxs)("div",{className:"cart",children:[Object(x.jsx)("div",{className:"cart__items",children:null===e||void 0===e?void 0:e.map((function(t){return Object(x.jsx)(C,{item:t},t.id)}))}),Object(x.jsxs)("div",{className:"cart__summary",children:[Object(x.jsx)("h4",{className:"summary__title",children:"Cart Summary"}),Object(x.jsxs)("div",{className:"summary__price",children:[Object(x.jsxs)("span",{children:["TOTAL: (",l," items)"]}),Object(x.jsxs)("span",{children:["$ ",n]})]}),Object(x.jsx)("button",{className:"summary__checkoutBtn",children:"Proceed To Checkout"})]})]})}));var S=function(){return Object(x.jsx)("div",{className:"App",children:Object(x.jsxs)(g.a,{children:[Object(x.jsx)(N,{}),Object(x.jsxs)(_.c,{children:[Object(x.jsx)(_.a,{path:"/",exact:!0,component:y}),Object(x.jsx)(_.a,{path:"/cart",exact:!0,component:T})]})]})})},E=(c(74),c(15)),q=c(36),F=c(37),k=c(38),w=c(3),A={products:{loading:!1,data:[],errorMSg:""},cart:[]},D=Object(E.combineReducers)({productData:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case j:return Object(w.a)(Object(w.a)({},t),{},{products:Object(w.a)(Object(w.a)({},t.products),{},{loading:!0,data:[],errorMSg:""})});case u:return Object(w.a)(Object(w.a)({},t),{},{products:{loading:!1,data:e.payload.data,errorMSg:""}});case b:return Object(w.a)(Object(w.a)({},t),{},{products:{loading:!1,data:[],errorMSg:e.payload}});case O:var c=t.products.data,a=c.find((function(t){return t.id===e.payload.id})),r=t.cart.findIndex((function(t){return t.id===e.payload.id})),n=Object(k.a)(t.cart);return r>-1?n=n.map((function(t){return t.id===e.payload.id?Object(w.a)(Object(w.a)({},t),{},{qty:t.qty+1}):t})):n.push(Object(w.a)(Object(w.a)({},a),{},{qty:1})),Object(w.a)(Object(w.a)({},t),{},{cart:n});case p:return Object(w.a)(Object(w.a)({},t),{},{cart:t.cart.filter((function(t){return t.id!==e.payload.id}))});case m:return Object(w.a)(Object(w.a)({},t),{},{cart:t.cart.map((function(t){return t.id===e.payload.id?Object(w.a)(Object(w.a)({},t),{},{qty:+e.payload.qty}):t}))});default:return t||A}}}),R=[q.a],I=Object(E.createStore)(D,{},Object(F.composeWithDevTools)(E.applyMiddleware.apply(void 0,R)));n.a.render(Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(i.a,{store:I,children:Object(x.jsx)(S,{})})}),document.getElementById("root"))}},[[75,1,2]]]);
//# sourceMappingURL=main.e984bd1d.chunk.js.map